(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "../pkg sync recursive":
/*!*******************!*\
  !*** ../pkg sync ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../pkg sync recursive\";\n\n//# sourceURL=webpack:///../pkg_sync?");

/***/ }),

/***/ "../pkg/htmf_wasm.js":
/*!***************************!*\
  !*** ../pkg/htmf_wasm.js ***!
  \***************************/
/*! exports provided: Game, __wbindgen_string_new, __wbg_new_59cb74e423758ede, __wbg_stack_558ba5917b466edd, __wbg_error_4bb6c2a97407129a, __wbindgen_object_drop_ref, __wbg_getRandomValues_40ceff860009fa55, __wbg_randomFillSync_eabbc18af655bfbe, __wbg_self_e70540c4956ad879, __wbg_require_9edeecb69c9dc31c, __wbg_crypto_58b0c631995fea92, __wbindgen_is_undefined, __wbg_getRandomValues_532ec62d8e780edc, __wbindgen_throw, __wbindgen_rethrow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Game\", function() { return Game; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_string_new\", function() { return __wbindgen_string_new; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_new_59cb74e423758ede\", function() { return __wbg_new_59cb74e423758ede; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_stack_558ba5917b466edd\", function() { return __wbg_stack_558ba5917b466edd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_error_4bb6c2a97407129a\", function() { return __wbg_error_4bb6c2a97407129a; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_object_drop_ref\", function() { return __wbindgen_object_drop_ref; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_getRandomValues_40ceff860009fa55\", function() { return __wbg_getRandomValues_40ceff860009fa55; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_randomFillSync_eabbc18af655bfbe\", function() { return __wbg_randomFillSync_eabbc18af655bfbe; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_self_e70540c4956ad879\", function() { return __wbg_self_e70540c4956ad879; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_require_9edeecb69c9dc31c\", function() { return __wbg_require_9edeecb69c9dc31c; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_crypto_58b0c631995fea92\", function() { return __wbg_crypto_58b0c631995fea92; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_is_undefined\", function() { return __wbindgen_is_undefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbg_getRandomValues_532ec62d8e780edc\", function() { return __wbg_getRandomValues_532ec62d8e780edc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_throw\", function() { return __wbindgen_throw; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_rethrow\", function() { return __wbindgen_rethrow; });\n/* harmony import */ var _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./htmf_wasm_bg.wasm */ \"../pkg/htmf_wasm_bg.wasm\");\n\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? __webpack_require__(/*! util */ \"./node_modules/util/util.js\").TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetUint8Memory0 = new Uint8Array(_htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nconst heap = new Array(32);\n\nheap.fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction getObject(idx) { return heap[idx]; }\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetInt32Memory0 = new Int32Array(_htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetInt32Memory0;\n}\n\nfunction getArrayU8FromWasm0(ptr, len) {\n    return getUint8Memory0().subarray(ptr / 1, ptr / 1 + len);\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? __webpack_require__(/*! util */ \"./node_modules/util/util.js\").TextEncoder : TextEncoder;\n\nlet cachedTextEncoder = new lTextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction handleError(e) {\n    _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_exn_store\"](addHeapObject(e));\n}\n/**\n*/\nclass Game {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Game.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    free() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbg_game_free\"](ptr);\n    }\n    /**\n    * @returns {Game}\n    */\n    static new() {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_new\"]();\n        return Game.__wrap(ret);\n    }\n    /**\n    * @returns {boolean}\n    */\n    is_drafting() {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_is_drafting\"](this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @returns {boolean}\n    */\n    finished_drafting() {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_finished_drafting\"](this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @returns {boolean}\n    */\n    game_over() {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_game_over\"](this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @returns {number | undefined}\n    */\n    active_player() {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_active_player\"](this.ptr);\n        return ret === 0xFFFFFF ? undefined : ret;\n    }\n    /**\n    * @param {number} player\n    * @returns {number}\n    */\n    score(player) {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_score\"](this.ptr, player);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    turn() {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_turn\"](this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} idx\n    * @returns {number}\n    */\n    num_fish(idx) {\n        var ret = _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_num_fish\"](this.ptr, idx);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} player\n    * @returns {Uint8Array}\n    */\n    penguins(player) {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_penguins\"](8, this.ptr, player);\n        var r0 = getInt32Memory0()[8 / 4 + 0];\n        var r1 = getInt32Memory0()[8 / 4 + 1];\n        var v0 = getArrayU8FromWasm0(r0, r1).slice();\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](r0, r1 * 1);\n        return v0;\n    }\n    /**\n    * @param {number} player\n    * @returns {Uint8Array}\n    */\n    claimed(player) {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_claimed\"](8, this.ptr, player);\n        var r0 = getInt32Memory0()[8 / 4 + 0];\n        var r1 = getInt32Memory0()[8 / 4 + 1];\n        var v0 = getArrayU8FromWasm0(r0, r1).slice();\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](r0, r1 * 1);\n        return v0;\n    }\n    /**\n    * @returns {Uint8Array}\n    */\n    draftable_cells() {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_draftable_cells\"](8, this.ptr);\n        var r0 = getInt32Memory0()[8 / 4 + 0];\n        var r1 = getInt32Memory0()[8 / 4 + 1];\n        var v0 = getArrayU8FromWasm0(r0, r1).slice();\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](r0, r1 * 1);\n        return v0;\n    }\n    /**\n    * @param {number} src\n    * @returns {Uint8Array}\n    */\n    possible_moves(src) {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_possible_moves\"](8, this.ptr, src);\n        var r0 = getInt32Memory0()[8 / 4 + 0];\n        var r1 = getInt32Memory0()[8 / 4 + 1];\n        var v0 = getArrayU8FromWasm0(r0, r1).slice();\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](r0, r1 * 1);\n        return v0;\n    }\n    /**\n    * @param {number} dst\n    */\n    place_penguin(dst) {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_place_penguin\"](this.ptr, dst);\n    }\n    /**\n    * @param {number} src\n    * @param {number} dst\n    */\n    move_penguin(src, dst) {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_move_penguin\"](this.ptr, src, dst);\n    }\n    /**\n    */\n    playout() {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_playout\"](this.ptr);\n    }\n    /**\n    */\n    take_action() {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"game_take_action\"](this.ptr);\n    }\n}\n\nconst __wbindgen_string_new = function(arg0, arg1) {\n    var ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n};\n\nconst __wbg_new_59cb74e423758ede = function() {\n    var ret = new Error();\n    return addHeapObject(ret);\n};\n\nconst __wbg_stack_558ba5917b466edd = function(arg0, arg1) {\n    var ret = getObject(arg1).stack;\n    var ptr0 = passStringToWasm0(ret, _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_malloc\"], _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_realloc\"]);\n    var len0 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len0;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n};\n\nconst __wbg_error_4bb6c2a97407129a = function(arg0, arg1) {\n    try {\n        console.error(getStringFromWasm0(arg0, arg1));\n    } finally {\n        _htmf_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](arg0, arg1);\n    }\n};\n\nconst __wbindgen_object_drop_ref = function(arg0) {\n    takeObject(arg0);\n};\n\nconst __wbg_getRandomValues_40ceff860009fa55 = function(arg0, arg1, arg2) {\n    getObject(arg0).getRandomValues(getArrayU8FromWasm0(arg1, arg2));\n};\n\nconst __wbg_randomFillSync_eabbc18af655bfbe = function(arg0, arg1, arg2) {\n    getObject(arg0).randomFillSync(getArrayU8FromWasm0(arg1, arg2));\n};\n\nconst __wbg_self_e70540c4956ad879 = function() {\n    try {\n        var ret = self.self;\n        return addHeapObject(ret);\n    } catch (e) {\n        handleError(e)\n    }\n};\n\nconst __wbg_require_9edeecb69c9dc31c = function(arg0, arg1) {\n    var ret = __webpack_require__(\"../pkg sync recursive\")(getStringFromWasm0(arg0, arg1));\n    return addHeapObject(ret);\n};\n\nconst __wbg_crypto_58b0c631995fea92 = function(arg0) {\n    var ret = getObject(arg0).crypto;\n    return addHeapObject(ret);\n};\n\nconst __wbindgen_is_undefined = function(arg0) {\n    var ret = getObject(arg0) === undefined;\n    return ret;\n};\n\nconst __wbg_getRandomValues_532ec62d8e780edc = function(arg0) {\n    var ret = getObject(arg0).getRandomValues;\n    return addHeapObject(ret);\n};\n\nconst __wbindgen_throw = function(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n\nconst __wbindgen_rethrow = function(arg0) {\n    throw takeObject(arg0);\n};\n\n\n\n//# sourceURL=webpack:///../pkg/htmf_wasm.js?");

/***/ }),

/***/ "../pkg/htmf_wasm_bg.wasm":
/*!********************************!*\
  !*** ../pkg/htmf_wasm_bg.wasm ***!
  \********************************/
/*! exports provided: memory, __wbg_game_free, game_new, game_is_drafting, game_finished_drafting, game_game_over, game_active_player, game_score, game_turn, game_num_fish, game_penguins, game_claimed, game_draftable_cells, game_possible_moves, game_place_penguin, game_move_penguin, game_playout, game_take_action, __wbindgen_free, __wbindgen_malloc, __wbindgen_realloc, __wbindgen_exn_store */
/***/ (function(module, exports, __webpack_require__) {

eval("\"use strict\";\n// Instantiate WebAssembly module\nvar wasmExports = __webpack_require__.w[module.i];\n__webpack_require__.r(exports);\n// export exports from WebAssembly module\nfor(var name in wasmExports) if(name != \"__webpack_init__\") exports[name] = wasmExports[name];\n// exec imports from WebAssembly module (for esm order)\n/* harmony import */ var m0 = __webpack_require__(/*! ./htmf_wasm.js */ \"../pkg/htmf_wasm.js\");\n\n\n// exec wasm module\nwasmExports[\"__webpack_init__\"]()\n\n//# sourceURL=webpack:///../pkg/htmf_wasm_bg.wasm?");

/***/ }),

/***/ "./Board.tsx":
/*!*******************!*\
  !*** ./Board.tsx ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nconst Hex_1 = __importDefault(__webpack_require__(/*! ./Hex */ \"./Hex.tsx\"));\nconst NUM_ROWS = 8;\nconst EVEN_ROW_LEN = 7;\nconst ODD_ROW_LEN = 8;\nclass Board extends React.Component {\n    render() {\n        const side_length = this.props.minDim / 16;\n        const start_x = 2 * side_length;\n        const start_y = 2 * side_length;\n        // duplicated in app.react.js\n        const player_colors = ['blue', 'red', 'orange', 'green'];\n        const colors = [];\n        for (let p = 0; p < this.props.gameState.board.penguins.length; ++p) {\n            let player_penguins = this.props.gameState.board.penguins[p];\n            for (let c of player_penguins) {\n                colors[c] = player_colors[p];\n            }\n        }\n        const any_possible_moves = this.props.possibleMoves.length > 0;\n        const claimed = new Set([]);\n        for (let player_claimed of this.props.gameState.board.claimed) {\n            for (let cell of player_claimed) {\n                claimed.add(cell);\n            }\n        }\n        const hexes = [];\n        for (let r = 0; r < NUM_ROWS; ++r) {\n            const y = start_y + r * 1.5 * side_length;\n            const row_len = (r % 2 === 0) ? EVEN_ROW_LEN : ODD_ROW_LEN;\n            const x_bobble = -1 * (r % 2) * Math.sqrt(3) * side_length / 2;\n            for (let c = 0; c < row_len; ++c) {\n                const hex_width = Hex_1.default.width(side_length);\n                const x = start_x + c * hex_width + x_bobble;\n                const key = hexes.length;\n                const fish = this.props.gameState.board.fish[key];\n                const color = colors[key];\n                const possible = this.props.possibleMoves.includes(key);\n                const is_highlighted = any_possible_moves &&\n                    this.props.chosenCell === key;\n                hexes.push(React.createElement(Hex_1.default, { key: key, _key: key, onClick: this.props.handleCellClick, fish: fish, cx: x, cy: y, sideLength: side_length, highlighted: is_highlighted, possible: possible, color: color, claimed: claimed.has(key) }));\n            }\n        }\n        const style = {\n            'height': this.props.minDim,\n            'width': this.props.minDim,\n            'gridColumn': '1 / auto',\n        };\n        return (React.createElement(\"svg\", { version: \"1.1\", style: style, baseProfile: \"full\", xmlns: \"http://www.w3.org/2000/svg\" }, hexes));\n    }\n}\nexports.default = Board;\n\n\n//# sourceURL=webpack:///./Board.tsx?");

/***/ }),

/***/ "./Hex.tsx":
/*!*****************!*\
  !*** ./Hex.tsx ***!
  \*****************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n// @flow\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nconst Penguin_1 = __importDefault(__webpack_require__(/*! ./Penguin */ \"./Penguin.tsx\"));\nclass Hex extends React.PureComponent {\n    render() {\n        const transform = `translate(${this.props.cx},${this.props.cy})`;\n        const color = this.props.color;\n        if (!color && this.props.claimed) {\n            return (React.createElement(\"g\", { transform: transform },\n                React.createElement(\"polygon\", { points: this.points().join(' '), style: {\n                        fill: '#555555',\n                    } })));\n        }\n        let penguin = null;\n        let circles = null;\n        if (color) {\n            penguin = (React.createElement(Penguin_1.default, { color: color, size: this.props.sideLength }));\n        }\n        else {\n            circles = this.circles();\n        }\n        return (React.createElement(\"g\", { transform: transform, onClick: this._onClick.bind(this) },\n            React.createElement(\"polygon\", { points: this.points().join(' '), style: {\n                    stroke: 'blue',\n                    fill: this.getFill(),\n                } }),\n            circles,\n            penguin));\n    }\n    getFill() {\n        if (this.props.highlighted) {\n            return '#fffe9f';\n        }\n        if (this.props.possible) {\n            return '#d1fec8';\n        }\n        return '#eeeeee';\n    }\n    circles() {\n        const r = this.props.sideLength / 10;\n        const color = '#888888';\n        if (this.props.fish === 1) {\n            return [\n                React.createElement(\"circle\", { key: 0, style: { fill: color }, r: r }),\n            ];\n        }\n        else if (this.props.fish === 2) {\n            return [\n                React.createElement(\"circle\", { key: 0, style: { fill: color }, cx: -r * 2, r: r }),\n                React.createElement(\"circle\", { key: 1, style: { fill: color }, cx: r * 2, r: r }),\n            ];\n        }\n        else if (this.props.fish === 3) {\n            const y_offset = r * 2 * Math.sin(Math.PI / 3);\n            return [\n                React.createElement(\"circle\", { key: 0, style: { fill: color }, cx: -r * 2, cy: y_offset, r: r }),\n                React.createElement(\"circle\", { key: 1, style: { fill: color }, cx: r * 2, cy: y_offset, r: r }),\n                React.createElement(\"circle\", { key: 2, style: { fill: color }, cx: 0, cy: -y_offset, r: r }),\n            ];\n        }\n        else {\n            throw new Error(this.props.fish + ' is not a valid fish amount');\n        }\n    }\n    _onClick() {\n        this.props.onClick(this.props._key);\n    }\n    points() {\n        const points = [];\n        for (let i = 0; i < 6; ++i) {\n            points.push(this.corner(i));\n        }\n        return points;\n    }\n    corner(i) {\n        const side_length = this.props.sideLength;\n        const angle_rad = i * Math.PI / 3;\n        return [\n            side_length * Math.sin(angle_rad),\n            side_length * Math.cos(angle_rad),\n        ];\n    }\n    static width(side_length) {\n        return side_length * (Math.sin(Math.PI / 3) - Math.sin(Math.PI * 5 / 3));\n    }\n}\nexports.default = Hex;\n\n\n//# sourceURL=webpack:///./Hex.tsx?");

/***/ }),

/***/ "./Penguin.tsx":
/*!*********************!*\
  !*** ./Penguin.tsx ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n// @flow\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nconst Penguin = React.memo(function Penguin(props) {\n    const black_parts_style = {\n        \"fill\": props.color,\n        \"fillOpacity\": 1,\n        \"stroke\": \"none\",\n    };\n    const scale = props.size / 500;\n    const translateX = -307.62496;\n    const translateY = -350;\n    return (React.createElement(\"g\", { id: \"layer1\", transform: `scale(${scale}),translate(${translateX},${translateY})` },\n        React.createElement(\"g\", { id: \"g3186\", transform: \"matrix(2.0165499,0,0,2.0165499,-378.20444,-374.28247)\" },\n            React.createElement(\"g\", { transform: \"translate(0,-14)\", id: \"g3176\" },\n                React.createElement(\"rect\", { style: { \"fill\": \"#fb8b00\", \"fillOpacity\": 1, \"stroke\": \"none\" }, id: \"rect3164\", width: \"18.182745\", height: \"72.73098\", x: \"340.37064\", y: \"378.86526\" }),\n                React.createElement(\"path\", { style: { \"fill\": \"#fb8b00\", \"stroke\": \"none\" }, d: \"m 347.12481,446.95339 -60.42857,21.85714 45.71428,18.57143 26.14286,-35.78572 z\", id: \"path3174\" })),\n            React.createElement(\"g\", { transform: \"matrix(-1,0,0,1,745.35258,-14)\", id: \"g3180\" },\n                React.createElement(\"rect\", { y: \"378.86526\", x: \"340.37064\", height: \"72.73098\", width: \"18.182745\", id: \"rect3182\", style: { \"fill\": \"#fb8b00\", \"fillOpacity\": 1, \"stroke\": \"none\" } }),\n                React.createElement(\"path\", { id: \"path3184\", d: \"m 347.12481,446.95339 -60.42857,21.85714 45.71428,18.57143 26.14286,-35.78572 z\", style: { \"fill\": \"#fb8b00\", \"stroke\": \"none\" } })),\n            React.createElement(\"path\", { transform: \"matrix(0.59003831,0,0,0.59003831,186.08628,108.73722)\", d: \"m 446.48743,416.47116 c 0,72.80489 -58.79389,131.82491 -131.31983,131.82491 -72.52593,0 -131.31982,-59.02002 -131.31982,-131.82491 0,-72.80488 58.79389,-131.8249 131.31982,-131.8249 72.52594,0 131.31983,59.02002 131.31983,131.8249 z\", id: \"path2985\", style: black_parts_style }),\n            React.createElement(\"path\", { transform: \"translate(59.910095,0)\", d: \"m 361.63462,289.69702 c 0,27.3367 -22.16077,49.49748 -49.49747,49.49748 -27.3367,0 -49.49748,-22.16078 -49.49748,-49.49748 0,-27.3367 22.16078,-49.49747 49.49748,-49.49747 27.3367,0 49.49747,22.16077 49.49747,49.49747 z\", id: \"path2987\", style: black_parts_style }),\n            React.createElement(\"path\", { style: black_parts_style, id: \"path2989\", d: \"m 446.48743,416.47116 c 0,72.80489 -58.79389,131.82491 -131.31983,131.82491 -72.52593,0 -131.31982,-59.02002 -131.31982,-131.82491 0,-72.80488 58.79389,-131.8249 131.31982,-131.8249 72.52594,0 131.31983,59.02002 131.31983,131.8249 z\", transform: \"matrix(0.38675689,0,0,0.38675689,250.154,218.19562)\" }),\n            React.createElement(\"path\", { id: \"rect3147\", d: \"m 345.78328,275.11088 c 0,0 6.9297,-6 26.26396,-6 19.33426,0 26.26397,6 26.26397,6 l -26.26397,52.52793 z\", style: { \"fill\": \"#fb8b00\", \"fillOpacity\": 1, \"stroke\": \"none\" } }),\n            React.createElement(\"path\", { transform: \"translate(0,-8)\", style: { \"fill\": \"#ffffff\", \"fillOpacity\": 1, \"stroke\": \"none\" }, id: \"path3152\", d: \"m 369.46331,266.71603 c 0,5.43945 -4.40955,9.84899 -9.84899,9.84899 -5.43945,0 -9.84899,-4.40954 -9.84899,-9.84899 0,-5.43944 4.40954,-9.84898 9.84899,-9.84898 5.43944,0 9.84899,4.40954 9.84899,9.84898 z\" }),\n            React.createElement(\"path\", { transform: \"translate(0,-8)\", d: \"m 391.93917,269.36768 c 0,3.55656 -2.88316,6.43972 -6.43972,6.43972 -3.55656,0 -6.43972,-2.88316 -6.43972,-6.43972 0,-3.55656 2.88316,-6.43973 6.43972,-6.43973 3.55656,0 6.43972,2.88317 6.43972,6.43973 z\", id: \"path3154\", style: { \"fill\": \"#ffffff\", \"fillOpacity\": 1, \"stroke\": \"none\" } }),\n            React.createElement(\"path\", { id: \"path3160\", d: \"M 332.14074,297.03867 247.29889,260.5461 c 10.94712,32.37883 32.49618,64.01962 75.63693,75.93783 z\", style: black_parts_style }),\n            React.createElement(\"path\", { style: black_parts_style, d: \"M 411.95375,297.03867 496.7956,260.5461 c -10.94712,32.37883 -32.49618,64.01962 -75.63693,75.93783 z\", id: \"path3162\" }))));\n});\nexports.default = Penguin;\n\n\n//# sourceURL=webpack:///./Penguin.tsx?");

/***/ }),

/***/ "./app.tsx":
/*!*****************!*\
  !*** ./app.tsx ***!
  \*****************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nconst react_dom_1 = __importDefault(__webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\"));\nconst wasm = __importStar(__webpack_require__(/*! htmf-wasm */ \"../pkg/htmf_wasm.js\"));\nconst Board_1 = __importDefault(__webpack_require__(/*! ./Board */ \"./Board.tsx\"));\nconst NPLAYERS = 2;\nconst NUM_ROWS = 8;\nconst EVEN_ROW_LEN = 7;\nconst ODD_ROW_LEN = 8;\nconst NUM_CELLS = EVEN_ROW_LEN * (NUM_ROWS / 2) + ODD_ROW_LEN * (NUM_ROWS / 2);\nconst PLAYOUT_MS = 100;\nconst PONDER_INTERVAL_MS = 1000;\n// duplicated in board.react.js\nconst PLAYER_COLORS = ['blue', 'red', 'orange', 'green'];\nfunction shuffle(a) {\n    for (let i = a.length; i; i--) {\n        const j = Math.floor(Math.random() * i);\n        const tmp = a[i - 1];\n        a[i - 1] = a[j];\n        a[j] = tmp;\n    }\n}\nfunction getGameState(game) {\n    const fish = [];\n    for (let idx = 0; idx < NUM_CELLS; ++idx) {\n        fish.push(game.num_fish(idx));\n    }\n    const scores = [];\n    const penguins = [];\n    const claimed = [];\n    for (let p = 0; p < NPLAYERS; ++p) {\n        scores.push(game.score(p));\n        penguins.push([...game.penguins(p)]);\n        claimed.push([...game.claimed(p)]);\n    }\n    return {\n        activePlayer: game.active_player(),\n        modeType: game.finished_drafting() ? \"playing\" : \"drafting\",\n        scores,\n        turn: game.turn(),\n        board: {\n            fish,\n            penguins,\n            claimed,\n        }\n    };\n}\nfunction getPossibleMoves(game, chosenCell) {\n    if (game.finished_drafting()) {\n        return chosenCell == null ? [] : [...game.possible_moves(chosenCell)];\n    }\n    else {\n        return [...game.draftable_cells()];\n    }\n}\nclass App extends react_1.default.Component {\n    constructor(props) {\n        super(props);\n        this.handleCellClick = this._handleCellClick.bind(this);\n        this.game = wasm.Game.new();\n        const fish = [];\n        for (let i = 0; i < 30; ++i) {\n            fish.push(1);\n        }\n        for (let i = 30; i < 50; ++i) {\n            fish.push(2);\n        }\n        for (let i = 50; i < 60; ++i) {\n            fish.push(3);\n        }\n        shuffle(fish);\n        this.state = {\n            gameState: getGameState(this.game),\n            inputText: '',\n            minDim: Math.min(window.innerWidth, window.innerHeight),\n            chosenCell: null,\n        };\n    }\n    activePlayer() {\n        return this.state.gameState.activePlayer;\n    }\n    render() {\n        const invalid_move_block = this.state.lastMoveInvalid\n            ? \"Invalid move!\"\n            : null;\n        const scores_block = [];\n        const active_player = this.activePlayer();\n        for (let p = 0; p < NPLAYERS; ++p) {\n            let color = { color: PLAYER_COLORS[p] };\n            let active = active_player === p ? '(Active Player)' : null;\n            scores_block.push(react_1.default.createElement(\"p\", { key: \"score_\" + p },\n                react_1.default.createElement(\"span\", { style: color },\n                    \"Score: \",\n                    this.state.gameState.scores[p],\n                    \" \",\n                    active)));\n        }\n        return (react_1.default.createElement(\"div\", { className: \"App\", style: { 'display': 'grid' } },\n            react_1.default.createElement(Board_1.default, { gameState: this.state.gameState, minDim: this.state.minDim, possibleMoves: getPossibleMoves(this.game, this.state.chosenCell), chosenCell: this.state.chosenCell, handleCellClick: this.handleCellClick }),\n            react_1.default.createElement(\"div\", { className: \"info-col\", style: { 'gridColumn': '12 / auto' } },\n                react_1.default.createElement(\"p\", null, this.state.gameState.modeType),\n                react_1.default.createElement(\"p\", null, invalid_move_block),\n                react_1.default.createElement(\"div\", null, scores_block),\n                react_1.default.createElement(\"input\", { value: this.state.inputText, type: \"text\", onChange: (e) => {\n                        this.setState({ inputText: e.target.value });\n                    }, onBlur: (e) => {\n                        try {\n                            const input_data = JSON.parse(this.state.inputText);\n                        }\n                        catch (_) {\n                            return;\n                        }\n                    } }))));\n    }\n    componentDidMount() {\n        window.addEventListener('resize', this.updateWindowDimensions.bind(this));\n        this.ponderer = window.setInterval(() => {\n            if (this.game.game_over()) {\n                return;\n            }\n            const t0 = performance.now();\n            let nplayouts = 0;\n            while (performance.now() - t0 < PLAYOUT_MS) {\n                this.game.playout();\n                ++nplayouts;\n            }\n            console.log(`${nplayouts} playouts in ${performance.now() - t0} ms`);\n        }, PONDER_INTERVAL_MS);\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateWindowDimensions.bind(this));\n        window.clearInterval(this.ponderer);\n    }\n    updateWindowDimensions() {\n        this.setState({\n            minDim: Math.min(window.innerWidth, window.innerHeight),\n        });\n    }\n    _handleCellClick(key) {\n        const activePlayer = this.activePlayer();\n        if (activePlayer == null) {\n            return;\n        }\n        if (this.state.gameState.modeType === \"drafting\") {\n            this._placePenguin(key);\n            return;\n        }\n        if (this.state.gameState.board.penguins[activePlayer].includes(key)) {\n            this._toggleCellHighlight(key);\n            return;\n        }\n        if (this.state.chosenCell == null) {\n            return;\n        }\n        if (this.game.possible_moves(this.state.chosenCell).includes(key)) {\n            this._movePenguinToCell(key);\n            return;\n        }\n    }\n    _placePenguin(key) {\n        let lastMoveInvalid = false;\n        let chosenCell = this.state.chosenCell;\n        try {\n            this.game.place_penguin(key);\n            chosenCell = null;\n            const t0 = performance.now();\n            while (performance.now() - t0 < PLAYOUT_MS) {\n                this.game.playout();\n            }\n            this.game.take_action();\n        }\n        catch (e) {\n            lastMoveInvalid = true;\n        }\n        this.setState({ lastMoveInvalid, gameState: getGameState(this.game), chosenCell: null });\n    }\n    _movePenguinToCell(key) {\n        let lastMoveInvalid = false;\n        let chosenCell = this.state.chosenCell;\n        try {\n            this.game.move_penguin(this.state.chosenCell, key);\n            chosenCell = null;\n            const t0 = performance.now();\n            while (performance.now() - t0 < PLAYOUT_MS) {\n                this.game.playout();\n            }\n            this.game.take_action();\n        }\n        catch (e) {\n            lastMoveInvalid = true;\n        }\n        this.setState({ lastMoveInvalid, gameState: getGameState(this.game), chosenCell });\n    }\n    _toggleCellHighlight(key) {\n        if (this.state.chosenCell === key) {\n            this.setState({\n                chosenCell: null,\n            });\n            return;\n        }\n        this.setState({\n            chosenCell: key,\n        });\n    }\n}\nreact_dom_1.default.render(react_1.default.createElement(App, null), document.getElementById('root'));\n\n\n//# sourceURL=webpack:///./app.tsx?");

/***/ })

}]);